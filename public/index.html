<html>
  <head>
    <title>Welcome to Feathers</title>
    <link href="https://fonts.googleapis.com/css?family=Playfair+Display:400,900" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.1/css/bulma.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/date-fns/1.29.0/date_fns.min.js"></script>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      .center-text {
        text-align: center;
      }


      h1, h2, h3, h4 {
        font-family: 'Playfair Display', serif;
      }

      h1 {
        font-weight: 900;
      }

      h2 {
        font-size: 2em;
        font-weight: 100;
      }

      footer {
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        padding: 20px;
      }

      footer p {
        font-weight: 300;
        font-size: 1.0em;
      }

      .spinner {
        display: inline-block;
        width: 24px;
        height: 24px;
      }
      .spinner:after {
        content: " ";
        display: block;
        width: 24px;
        height: 24px;
        margin: 5px auto;
        border-radius: 50%;
        border: 5px solid #ccc;
        border-color: #ccc transparent #ccc transparent;
        animation: spinner 1.2s linear infinite;
      }
      @keyframes spinner {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }

      #app {
        margin-top: 20px;
      }

      .hidden {
        display: none;
      }

      .expanded {
        display: block;
      }
    </style>
  </head>
  <body>
      <h1 class="center-text" style="font-size: 3em;">Listen Up</h1>
      <h2 class="center-text">Simplified Webhook Listener Testing</h2>
      <div id="app" class="container">
          
    
          <div id="add-hook center-text" v-show="!showListener">
            <button class="button is-dark is-centered" v-on:click="createHook">Create New Hook Endpoint</button>
          </div>

          <article class="message">
            <div class="message-header">
              <p>Endpoint Ready</p>
            </div>
            <div class="message-body">
              <div class="field">
                <label for="">Make a <strong>POST</strong> request with <code>Content-Type</code> <code>application/json</code> to:</label>

                <div class="control">
                  <input class="input is-dark" type="text" v-model="currentHook" readonly>
                </div>
              </div>
              <br>
              <button class="button is-light is-small is-centered" v-on:click="createHook">Create New Hook Endpoint</button>
            </div>
          </article>
    
          <div id="listen" v-show="showListener">
            <nav class="panel">
              <p class="panel-heading">Listening for Requests... <span class="spinner"></span></p>
              <span v-for="post in posts">
                <span v-if="post.payload">
                  <a class="panel-block">
                      <span class="tag is-light">{{post.time}}</span>  
                      <div>
                          <code>{{ post.payload }}</code>
                      </div>
                  </a>
                </span>
              </span>
              <div class="panel-block">
                <button class="button is-small" v-on:click="clearList">Clear List</button>
              </div>
            </nav>
          </div>
      </div>

      <footer>
        <p class="center-text">Listen Up â€” Copyright &copy; 2018 Joshua Weaver</p>
      </footer>

    <script src="https://cdn.jsdelivr.net/npm/vue@2.5.16/dist/vue.js"></script>
    <script src="//unpkg.com/@feathersjs/client@^3.0.0/dist/feathers.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/socket.io/2.1.1/socket.io.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/URI.js/1.19.1/URI.min.js"></script>
    <script src="js/app.js"></script>
  </body>
</html>
